# 大田スプリント反応チャレンジ - リアクション・シグナル・アプリ

島根県大田市 × 日本体育大学 特別プロジェクト

## 🎯 アプリの特徴

### **独自性**
- 大田市×日本体育大学のコラボレーション専用アプリ
- 認知・判断・行動のコンセプトを体現
- 50m走パフォーマンス向上に直結する測定機能
- リアルタイムランキング機能

### **3つのモード**

#### 1. 📱 シンプル反応モード
- 純粋な反応速度を測定
- 緑色のシグナルに反応する速さを計測
- 5回連続測定で平均値・最速値・安定性を評価
- 50m走スタートへの影響を自動計算

#### 2. 🎨 カラー判断モード
- 認知・判断・行動の三要素をトレーニング
- 緑色だけタップ、それ以外は無視
- 3段階の難易度(初級/中級/上級)
- 正解率と反応時間の両方を評価

#### 3. 🏃 スタートダッシュモード
- 陸上競技のスタートをシミュレーション
- 「位置について」→「ヨーイ」→「ドン!」の本格的な流れ
- フライング判定機能
- スプリント特化の分析

### **教育的価値**
- 反応時間と50m走タイムの関係を可視化
- 睡眠・コンディショニングとの連動(拡張予定)
- 個人の成長を記録・追跡
- ゲーミフィケーションで楽しく継続

---

## 🚀 開発済み機能(Phase 1 MVP)

✅ **完成済み**
- トップページ(名前入力・モード選択)
- シンプル反応モード(完全実装)
- カラー判断モード(完全実装)
- スタートダッシュモード(完全実装)
- ランキング機能(ローカルストレージ)
- 個人記録管理
- レスポンシブデザイン(スマホ/タブレット対応)
- 大田市カスタマイズデザイン

---

## 📋 今後の拡張予定

### **Phase 2: 追加機能**
- [ ] マイレコードページ(個人の記録推移グラフ)
- [ ] 睡眠記録連動機能
- [ ] コンディショニングスコアシミュレーター
- [ ] 実際のピストン音(音声ファイル)
- [ ] PWA対応(オフライン動作)

### **Phase 3: バックエンド強化**
- [ ] Cloudflare D1によるリアルタイムランキング
- [ ] セッション管理(講座ごとの記録分離)
- [ ] データエクスポート機能
- [ ] 管理者ダッシュボード

### **Phase 4: 独自性強化**
- [ ] 島根県大田市の風景・イラスト
- [ ] 石見銀山テーマのビジュアル
- [ ] ローカル音声(和太鼓、神楽の鈴)
- [ ] 日本体育大学ロゴ統合

---

## 💻 ローカル開発環境

### **必要なもの**
- Node.js 18以上
- npm または yarn

### **インストール手順**

```bash
# プロジェクトディレクトリに移動
cd reaction-signal-app

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで `http://localhost:3000` にアクセス

### **開発のポイント**
- `/app` - ページコンポーネント(Next.js App Router)
- `/components` - 再利用可能なコンポーネント
- `/lib` - ユーティリティ関数、型定義
  - `types.ts` - TypeScript型定義
  - `storage.ts` - ローカルストレージ管理
  - `evaluation.ts` - 反応時間の評価ロジック

---

## 🌐 Cloudflare Pagesへのデプロイ

### **方法1: GitHubリポジトリ経由(推奨)**

1. GitHubに新規リポジトリを作成
2. コードをプッシュ

```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/YOUR_USERNAME/reaction-signal-app.git
git push -u origin main
```

3. Cloudflare Pagesダッシュボード
   - "Create a project" をクリック
   - GitHubリポジトリを選択
   - フレームワーク: Next.js
   - ビルドコマンド: `npm run build`
   - 出力ディレクトリ: `.next`
   - デプロイ!

### **方法2: Wranglerコマンド**

```bash
# Cloudflare Wranglerをインストール
npm install -g wrangler

# ログイン
wrangler login

# デプロイ
npx @cloudflare/next-on-pages@latest --no-build
wrangler pages deploy .vercel/output/static
```

### **カスタムドメイン設定**
- 例: `reaction.kedouin-lab.com`
- Cloudflare PagesのCustom Domainsから設定

---

## 🎨 カスタマイズガイド

### **大田市の独自性を追加**

#### 1. ロゴ・画像の追加
`/public/images/` に以下を配置:
- `ota-city-logo.png` - 大田市ロゴ
- `nitaidai-logo.png` - 日本体育大学ロゴ
- `sanbesan.jpg` - 三瓶山の背景画像
- `iwami-ginzan.jpg` - 石見銀山イラスト

#### 2. 色のカスタマイズ
`/app/globals.css` で以下の変数を変更:
```css
:root {
  --nitaidai-red: #C1272D;
  --ota-blue: #0066CC;
  --accent-gold: #FFD700;
}
```

#### 3. 音声の追加
`/public/sounds/` に配置:
- `pistol.mp3` - ピストン音
- `taiko.mp3` - 和太鼓の音
- `suzu.mp3` - 神楽の鈴

`/app/sprint/page.tsx` の `playStartSound()` を実装:
```typescript
const playStartSound = () => {
  const audio = new Audio('/sounds/pistol.mp3');
  audio.play();
};
```

---

## 📊 講座での使用方法

### **事前準備**
1. **WiFi環境の確認**
   - 参加者50名が同時接続可能か確認
   - 必要に応じてホットスポット準備

2. **端末の準備**
   - タブレット10台程度(バックアップ用)
   - 参加者のスマートフォン利用を推奨

3. **URLの共有方法**
   - QRコードを作成して印刷
   - スライドに大きく表示
   - 短縮URL(bit.ly等)を用意

### **当日の流れ**

#### **講義前(5分)**
- 参加者にアプリURLを共有
- 名前の入力を指示
- 小学生/指導者の選択

#### **ウォーミングアップ(10分)**
- シンプル反応モードを全員で体験
- 基本的な使い方を説明

#### **トレーニング(40分)**
- 各モードを順番に実施
- リアルタイムでランキング確認
- トップ記録を会場で共有

#### **クールダウン&まとめ(20分)**
- 今日の記録を振り返り
- ランキング上位者を表彰
- 継続利用を促す

### **データ収集**
- 講座終了後、ローカルストレージからデータをエクスポート
- 研究データとして分析可能
- 次回講座での改善に活用

---

## 🔧 トラブルシューティング

### **問題: アプリが開かない**
- ブラウザのキャッシュをクリア
- プライベートモード/シークレットモードで開く

### **問題: 記録が保存されない**
- ブラウザのローカルストレージが有効か確認
- プライベートモードでは記録が保存されない

### **問題: ランキングが表示されない**
- まず誰かが記録を登録する必要がある
- ページをリロード

### **問題: 反応時間が異常に速い/遅い**
- 端末のパフォーマンス問題の可能性
- ブラウザを再起動

---

## 📱 対応ブラウザ

✅ **推奨**
- Chrome 90+
- Safari 14+
- Edge 90+
- Firefox 88+

⚠️ **制限あり**
- IE 11(非対応)

---

## 🤝 今後の開発ロードマップ

### **2025年1月(大田市講座前)**
- [ ] Phase 1 MVP完成(✅ 完了!)
- [ ] マイレコードページ追加
- [ ] 実際の音声ファイル統合
- [ ] デプロイとテスト

### **2025年2月(講座後)**
- [ ] フィードバック収集
- [ ] バグ修正
- [ ] 睡眠記録機能追加

### **2025年3月〜**
- [ ] Cloudflare D1でリアルタイムランキング
- [ ] PWA対応(オフライン動作)
- [ ] 他の自治体展開を視野に

---

## 📞 お問い合わせ

**開発者**: Genspark AI + 祁答院 隼人
**所属**: 日本体育大学 スポーツキュアセンター
**プロジェクト**: 島根県大田市 × 日本体育大学 特別講座

---

## 🎉 完成したもの

このアプリは、大田市の小学生とその指導者・保護者が、楽しみながら反応速度を測定し、50m走のパフォーマンス向上につなげることを目的としています。

**認知・判断・行動**の祁答院先生のコンセプトを体現し、科学的根拠に基づいたトレーニングを提供します。

さらなる機能追加やカスタマイズのご要望があれば、いつでもご相談ください!

**石見の子どもたちの挑戦を、テクノロジーで応援します!** 🏃‍♂️⚡
